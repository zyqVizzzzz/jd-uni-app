"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/require.js");require("../../config.js"),Math||a();const a=()=>"../../components/ScrollPicker.js",l={__name:"profileEditBirth",setup(a){const l=()=>{e.index.navigateBack()},o=()=>{var e,t,a;const l=null==(e=i[0].options.find((e=>e.value===i[0].defaultValue)))?void 0:e.value,o=null==(t=i[1].options.find((e=>e.value===i[1].defaultValue)))?void 0:t.value,n=null==(a=i[2].options.find((e=>e.value===i[2].defaultValue)))?void 0:a.value;console.log(n,o,l),u({birthday:{year:l,month:o,day:n}})},u=async a=>{try{if(a.birthday){const{year:e,month:t,day:l}=a.birthday;a.birthday=`${e}-${t}-${l}`}201===(await t.request({url:"/users/me",method:"POST",data:a})).data.code&&e.index.navigateTo({url:"/pages/profileEditWeight/profileEditWeight"})}catch(l){e.index.showToast({title:"更新失败",icon:"none"})}},n=(e,t)=>{const a=new Date(e,t,0).getDate(),l=[];for(let o=1;o<=a;o++){const e=o.toString().padStart(2,"0");l.push({label:e,value:e})}return l},i=e.reactive([{options:((e,t)=>{const a=[];for(let l=e;l<=t;l++)a.push({label:l,value:l.toString()});return a})(1900,2024),defaultValue:"2000"},{options:(()=>{const e=[];for(let t=1;t<=12;t++){const a=t.toString().padStart(2,"0");e.push({label:a,value:a})}return e})(),defaultValue:"05"},{options:n(2e3,5),defaultValue:"05"}]),r=e=>{var t,a;const{values:l,columnIndex:o}=e;if(0===o||1===o){const e=(null==(t=l[0])?void 0:t.value)||i[0].defaultValue,o=(null==(a=l[1])?void 0:a.value)||i[1].defaultValue;i[2].options=n(parseInt(e),parseInt(o))}l[0]&&(i[0].defaultValue=l[0].value),l[1]&&(i[1].defaultValue=l[1].value),l[2]&&(i[2].defaultValue=l[2].value)};return(t,a)=>({a:e.o(r),b:e.p({columns:i,title:"您的生日"}),c:e.o(l),d:e.o(o)})}},o=e._export_sfc(l,[["__scopeId","data-v-af7faeb0"]]);wx.createPage(o);
