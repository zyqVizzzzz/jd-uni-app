"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/require.js");require("../../config.js");const i={__name:"deviceBindSuccess",setup(i){const r=async()=>{try{const i=await t.request({url:"/users/me"});if(200===i.data.code){const t=i.data.data,r=[{key:"gender",page:"/pages/profileEditGender/profileEditGender"},{key:"birthday",page:"/pages/profileEditBirth/profileEditBirth"},{key:"height",page:"/pages/profileEditHeight/profileEditHeight"},{key:"weight",page:"/pages/profileEditWeight/profileEditWeight"},{key:"target",page:"/pages/profileEditTarget/profileEditTarget"}],a=r.every((e=>t[e.key]&&""!==t[e.key]&&0!==t[e.key]));if(console.log(a),a)return"/pages/deviceSetting/deviceSetting";const n=r.find((e=>!t[e.key]||""===t[e.key]||0===t[e.key]));return e.index.setStorageSync("userInfo",JSON.stringify(t)),n.page}}catch(i){return console.error("获取用户信息失败:",i),"/pages/profileEditGender/profileEditGender"}},a=async()=>{const t=await r();e.index.navigateTo({url:t})};return e.onMounted((()=>{r()})),(t,i)=>({a:e.o(a)})}};wx.createPage(i);
