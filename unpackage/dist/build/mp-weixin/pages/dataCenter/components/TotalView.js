"use strict";const t=require("../../../common/vendor.js"),e=require("../../../utils/require.js"),a=require("./format.js");require("../../../config.js");const o={__name:"TotalView",setup(o){const l=t.ref(null),r=t=>{const e=new Date(t);return`${e.getFullYear()}年${e.getMonth()+1}月${e.getDate()}日`};return t.onMounted((()=>{(async()=>{var t;try{const a=await e.request({url:"/swimming/total-records",method:"GET"});200===(null==(t=a.data)?void 0:t.code)&&(l.value=a.data.data)}catch(a){console.error("获取总计数据失败:",a),l.value=null}})()})),(e,o)=>{var n,u,i,s,d,c;return t.e({a:null==(n=l.value)?void 0:n.totals},(null==(u=l.value)?void 0:u.totals)?{b:t.t(l.value.totals.totalDistance||0),c:t.t(t.unref(a.formatDuration)(l.value.totals.totalDuration))}:{},{d:null==(s=null==(i=l.value)?void 0:i.dailyRecords)?void 0:s.length},(null==(c=null==(d=l.value)?void 0:d.dailyRecords)?void 0:c.length)?{e:t.f(l.value.dailyRecords,((e,o,l)=>({a:t.t(r(e.date)),b:t.t(e.distance||0),c:t.t(t.unref(a.formatDuration)(e.duration)),d:t.t(t.unref(a.formatPace)(e.averagePace)),e:t.t(e.calories||0),f:t.t(e.poolLength||0),g:t.t(e.laps||0),h:e.date})))}:{})}}};wx.createComponent(o);
