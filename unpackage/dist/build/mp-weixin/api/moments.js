"use strict";const e=require("../common/vendor.js"),t=require("../utils/require.js"),o=require("../config.js"),m={getMoments:e=>t.request({url:"/moments",method:"GET",data:e}),getMomentDetail:e=>t.request({url:"/moments/"+e,method:"GET"}),createMoment:e=>t.request({url:"/moments",method:"POST",data:e}),deleteMoment:e=>t.request({url:`/moments/${e}`,method:"DELETE"}),batchUploadImages:t=>new Promise(((m,r)=>{const s=e.index.getStorageSync("token");e.index.uploadFile({url:`${o.config.API_BASE_URL}/moments/upload`,files:t.map((e=>({name:"images",uri:e}))),header:{Authorization:`Bearer ${s}`},success:e=>{const t=JSON.parse(e.data);m(t)},fail:e=>{r(e)}})})),likeMoment:e=>t.request({url:`/moments/${e}/like`,method:"POST"}),unlikeMoment:e=>t.request({url:`/moments/${e}/unlike`,method:"POST"})};exports.momentApi=m;
