import '@ast-core/escape';
import { escape, SimpleMappingChars2String } from '@weapp-core/escape';

function internalCssSelectorReplacer(selectors, options = {
    escapeMap: SimpleMappingChars2String,
}) {
    const { mangleContext, escapeMap } = options;
    if (mangleContext) {
        selectors = mangleContext.cssHandler(selectors);
    }
    return escape(selectors, {
        map: escapeMap,
    });
}
function composeIsPseudo(strs) {
    if (typeof strs === 'string') {
        return strs;
    }
    if (strs.length > 1) {
        return `:is(${strs.join(',')})`;
    }
    return strs.join('');
}

export { composeIsPseudo as c, internalCssSelectorReplacer as i };
