'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

require('@ast-core/escape');
var escape = require('@weapp-core/escape');
var shared = require('./shared-r_GpWheO.js');

function replaceWxml(original, options = {
    keepEOL: false,
    escapeMap: escape.SimpleMappingChars2String,
}) {
    const { keepEOL, escapeMap, mangleContext, ignoreHead } = options;
    let res = original;
    if (!keepEOL) {
        res = res
            .replaceAll(/[\n\r]+/g, '');
    }
    if (mangleContext) {
        res = mangleContext.wxmlHandler(res);
    }
    res = escape.escape(res, {
        map: escapeMap,
        ignoreHead,
    });
    return res;
}

Object.defineProperty(exports, "MappingChars2String", {
    enumerable: true,
    get: function () { return escape.MappingChars2String; }
});
Object.defineProperty(exports, "MappingChars2StringEntries", {
    enumerable: true,
    get: function () { return escape.MappingChars2StringEntries; }
});
Object.defineProperty(exports, "SYMBOL_TABLE", {
    enumerable: true,
    get: function () { return escape.SYMBOL_TABLE; }
});
Object.defineProperty(exports, "SimpleMappingChars2String", {
    enumerable: true,
    get: function () { return escape.SimpleMappingChars2String; }
});
Object.defineProperty(exports, "SimpleMappingChars2StringEntries", {
    enumerable: true,
    get: function () { return escape.SimpleMappingChars2StringEntries; }
});
exports.replaceCss = shared.internalCssSelectorReplacer;
exports.replaceJs = replaceWxml;
